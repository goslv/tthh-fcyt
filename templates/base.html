<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>{% block title %}TTHH FCYT{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap y fuentes -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

    <style>
        /* 1) Variables para claro y oscuro */
        :root {
            --bg-gradient: linear-gradient(145deg, #ffffff, #f0f0f0);
            --text-color: #212121;
            --sidebar-bg: #f7f7f7;
            --sidebar-text: #333333;
            --sidebar-hover-bg: #e0e0e0;
            --sidebar-hover-text: #000000;
        }

        .dark-theme {
            --bg-gradient: linear-gradient(145deg, #000000, #000000e3);
            --text-color: #e0e0e0;
            --sidebar-bg: #16161646;
            --sidebar-text: #b0bec5;
            --sidebar-hover-bg: #263238;
            --sidebar-hover-text: #ffffff;
        }

        /* 2) Uso de variables */
        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-color);
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 240px;
            background: var(--sidebar-bg);
            padding: 1.5rem 1rem;
            display: flex;
            flex-direction: column;
            box-shadow: 3px 0 12px rgba(0, 0, 0, 0.2);
            z-index: 100;
        }

        .sidebar h2 {
            color: var(--sidebar-text);
            font-weight: 700;
            font-size: 1.4rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .sidebar a {
            color: var(--sidebar-text);
            text-decoration: none;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            transition: background 0.3s, color 0.3s;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .sidebar a:hover {
            background: var(--sidebar-hover-bg);
            color: var(--sidebar-hover-text);
        }

        .sidebar a i {
            margin-right: 0.75rem;
        }

        .content {
            margin-left: 240px;
            padding: 2rem;
        }

        footer {
            text-align: center;
            padding: 1rem;
            font-size: 0.875rem;
            color: #90a4ae;
        }

        /* 3) Estilo del botón toggle */
        #theme-toggle {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            z-index: 101;
            background: transparent;
            border: none;
            font-size: 1.25rem;
            cursor: pointer;
            color: var(--sidebar-text);
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <h2><i class="fas fa-users"></i><br>TALENTO HUMANO</h2>
        <button id="theme-toggle"><i class="fas fa-moon"></i></button>
        <a href="{% url 'menu_inicio' %}"><i class="fas fa-home"></i> Inicio</a>
        <a href="{% url 'lista_funcionarios' %}"><i class="fas fa-user-friends"></i> Funcionarios</a>
        <a href="{% url 'lista_documentos' %}"><i class="fas fa-file-alt"></i> Documentos</a>
        <a href="#"><i class="fas fa-chart-line"></i> Evaluaciones</a>
        <a href="{% url 'lista_eventos' %}"><i class="fas fa-calendar-alt"></i> Eventos</a>
        <a href="{% url 'lista_beneficios' %}"><i class="fas fa-gift"></i> Beneficios</a>
        <a href="#"><i class="fas fa-user-cog"></i> Usuarios</a>
        <a href="{% url 'logout' %}" class="mt-auto"><i class="fas fa-sign-out-alt"></i> Cerrar sesión</a>
    </div>

    <main class="content">
        {% block content %}{% endblock %}
    </main>

    <footer>&copy; 2025 FCyT UNCA | Departamento de Talento Humano</footer>

    <!-- jQuery + Select2 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.select2').select2({ placeholder: "Buscar funcionario...", width: '100%' });
        });
    </script>

    <!-- Bootstrap Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- 5) Script para cambiar tema y guardarlo -->
    <script>
        (function () {
            const btn = document.getElementById('theme-toggle');
            const body = document.body;
            // Leer preferencia previa o del sistema
            const saved = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (saved === 'dark' || (!saved && prefersDark)) {
                body.classList.add('dark-theme');
            }
            // Actualizar icono
            const updateIcon = () => {
                btn.innerHTML = body.classList.contains('dark-theme')
                    ? '<i class="fas fa-sun"></i>'
                    : '<i class="fas fa-moon"></i>';
            };
            updateIcon();

            btn.addEventListener('click', () => {
                body.classList.toggle('dark-theme');
                localStorage.setItem('theme',
                    body.classList.contains('dark-theme') ? 'dark' : 'light'
                );
                updateIcon();
            });
        })();
    </script>
</body>

</html>