{% extends 'base.html' %}
{% block title %}Crear Funcionario/a | TH-FCYT{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center min-vh-100 px-3">
    <div class="card create-card shadow-lg animate-fade-in">
        <div class="card-header bg-create-header text-center">
            <h4 class="mb-0 text-white">Registro de Funcionario/a</h4>
        </div>
        <div class="card-body">
            <form method="POST" class="row g-3">
                {% csrf_token %}

                <div class="col-md-6">
                    <label class="form-label text-light">Nombre</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent">
                            <i class="fas fa-user text-white"></i>
                        </span>
                        <input type="text" name="nombre" class="form-control form-control-dark" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label text-light">Apellido</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent">
                            <i class="fas fa-id-card text-white"></i>
                        </span>
                        <input type="text" name="apellido" class="form-control form-control-dark" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label text-light">Cédula</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent">
                            <i class="fas fa-id-badge text-white"></i>
                        </span>
                        <input type="text" name="cedula" class="form-control form-control-dark" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label text-light">Cargo</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent">
                            <i class="fas fa-briefcase text-white"></i>
                        </span>
                        <select name="cargo" class="form-select form-control-dark" onchange="mostrarOtroCargo(this)"
                            required>
                            <option value="">Seleccione un cargo</option>
                            <option value="Cajero">Cajero/a</option>
                            <option value="Secretario">Secretario/a</option>
                            <option value="Director de Carrera">Director/a de Carrera</option>
                            <option value="Técnico">Técnico/a</option>
                            <option value="Asesor">Asesor/a</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    <input type="text" name="otro_cargo" id="otro_cargo" class="form-control form-control-dark mt-2"
                        placeholder="Escriba su cargo" style="display:none;">
                </div>

                <div class="col-md-6">
                    <label class="form-label text-light">Fecha de Ingreso</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent">
                            <i class="fas fa-calendar-alt text-white"></i>
                        </span>
                        <input type="date" name="fecha_ingreso" class="form-control form-control-dark" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label text-light">Departamento</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent">
                            <i class="fas fa-building text-white"></i>
                        </span>
                        <select name="departamento" class="form-select form-control-dark"
                            onchange="mostrarOtroDepartamento(this)" required>
                            <option value="">Seleccione un departamento</option>
                            <option value="Financiero">Financiero</option>
                            <option value="TIC">TIC</option>
                            <option value="Investigación">Investigación</option>
                            <option value="RRHH">RRHH</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    <input type="text" name="otro_departamento" id="otro_departamento"
                        class="form-control form-control-dark mt-2" placeholder="Escriba su departamento"
                        style="display:none;">
                </div>

                <div class="col-md-6">
                    <label class="form-label text-light">Estado</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent">
                            <i class="fas fa-toggle-on text-white"></i>
                        </span>
                        <select name="estado" class="form-select form-control-dark" required>
                            <option value="Activo">Activo/a</option>
                            <option value="Inactivo">Inactivo/a</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label text-light">Estado Civil</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent">
                            <i class="fas fa-heart text-white"></i>
                        </span>
                        <select name="estado_civil" class="form-select form-control-dark" required>
                            <option value="Soltero">Soltero/a</option>
                            <option value="Casado">Casado/a</option>
                            <option value="Divorciado">Divorciado/a</option>
                            <option value="Viudo">Viudo/a</option>
                        </select>
                    </div>
                </div>

                <div class="col-12 text-center mt-4">
                    <button type="submit" class="btn btn-gradient me-2">
                        <i class="fas fa-save"></i> Guardar
                    </button>
                    <a href="{% url 'lista_funcionarios' %}" class="btn btn-gradient-outline">
                        <i class="fas fa-arrow-left"></i> Volver
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
    .create-card {
        max-width: 720px;
        width: 100%;
        border: none;
        border-radius: 1rem;
        background: rgba(0, 0, 0, 0.8);
    }

    .bg-create-header {
        background: linear-gradient(135deg, #000000, #131320);
    }

    .form-control-dark,
    .form-select.form-control-dark {
        background: #000;
        border: 1px solid rgba(255, 255, 255, 0.15);
        color: #e0e0e0;
    }

    .form-control-dark:focus,
    .form-select.form-control-dark:focus {
        background: rgba(0, 0, 0, 0.8);
        border-color: #457b9d;
        box-shadow: 0 0 0 0.2rem rgba(69, 123, 157, 0.5);
        color: #fff;
    }

    .btn-gradient {
        background: linear-gradient(135deg, #000000, #131320);
        color: #fff;
        border: none;
        padding: 0.65rem 1.25rem;
        font-weight: 600;
        border-radius: 0.5rem;
    }

    .btn-gradient:hover {
        background: linear-gradient(135deg, #131320, #000000);
    }

    .btn-gradient-outline {
        background: transparent;
        color: #fff;
        border: 1px solid #fff;
        padding: 0.65rem 1.25rem;
        border-radius: 0.5rem;
    }

    .btn-gradient-outline:hover {
        background: rgba(255, 255, 255, 0.1);
    }

    .animate-fade-in {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.6s ease-out forwards;
    }

    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    input[type="date"]::-webkit-calendar-picker-indicator {
        filter: brightness(0) invert(1);
    }
</style>

<script>
    function mostrarOtroCargo(select) {
        document.getElementById('otro_cargo').style.display =
            select.value === 'Otro' ? 'block' : 'none';
    }
    function mostrarOtroDepartamento(select) {
        document.getElementById('otro_departamento').style.display =
            select.value === 'Otro' ? 'block' : 'none';
    }
</script>
{% endblock %}