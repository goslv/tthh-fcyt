<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Crear Funcionario</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header text-center bg-primary text-white">
            <h3>Formulario de Registro de Funcionario</h3>
        </div>
        <div class="card-body">
            <form method="POST" class="row g-3">
                {% csrf_token %}

                <div class="col-md-6">
                    <label class="form-label">Nombre</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-person"></i></span>
                        <input type="text" class="form-control" name="nombre" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Apellido</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-person-vcard"></i></span>
                        <input type="text" class="form-control" name="apellido" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Cédula</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-credit-card"></i></span>
                        <input type="text" class="form-control" name="cedula" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Cargo</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-briefcase"></i></span>
                        <select class="form-select" name="cargo" onchange="mostrarOtroCargo(this)" required>
                            <option value="">Seleccione un cargo</option>
                            <option value="Cajero">Cajero</option>
                            <option value="Secretario">Secretario</option>
                            <option value="Director de Carrera">Director de Carrera</option>
                            <option value="Técnico">Técnico</option>
                            <option value="Asesor">Asesor</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    <input type="text" class="form-control mt-2" name="otro_cargo" id="otro_cargo" placeholder="Escriba su cargo" style="display:none;">
                </div>

                <div class="col-md-6">
                    <label class="form-label">Fecha de Ingreso</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-calendar-event"></i></span>
                        <input type="date" class="form-control" name="fecha_ingreso" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Departamento</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-building"></i></span>
                        <select class="form-select" name="departamento" onchange="mostrarOtroDepartamento(this)" required>
                            <option value="">Seleccione un departamento</option>
                            <option value="Financiero">Financiero</option>
                            <option value="TIC">TIC</option>
                            <option value="Investigación">Investigación</option>
                            <option value="RRHH">RRHH</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    <input type="text" class="form-control mt-2" name="otro_departamento" id="otro_departamento" placeholder="Escriba su departamento" style="display:none;">
                </div>

                <div class="col-md-6">
                    <label class="form-label">Estado</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-toggle-on"></i></span>
                        <select class="form-select" name="estado" required>
                            <option value="Activo">Activo</option>
                            <option value="Inactivo">Inactivo</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Estado Civil</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-heart"></i></span>
                        <select class="form-select" name="estado_civil" required>
                            <option value="Soltero">Soltero</option>
                            <option value="Casado">Casado</option>
                            <option value="Divorciado">Divorciado</option>
                            <option value="Viudo">Viudo</option>
                        </select>
                    </div>
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-success mt-4">
                        <i class="bi bi-save"></i> Guardar
                    </button>
                    <a href="{% url 'lista_funcionarios' %}" class="btn btn-secondary mt-4">
                        <i class="bi bi-arrow-left-circle"></i> Volver
                    </a>
                </div>

            </form>
        </div>
    </div>
</div>

<script>
function mostrarOtroCargo(select) {
    var input = document.getElementById('otro_cargo');
    input.style.display = (select.value === 'Otro') ? 'block' : 'none';
}
function mostrarOtroDepartamento(select) {
    var input = document.getElementById('otro_departamento');
    input.style.display = (select.value === 'Otro') ? 'block' : 'none';
}
</script>

</body>
</html>
